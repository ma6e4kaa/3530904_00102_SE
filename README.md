# 3530904_00102_SE

## Тема проекта: Автоматизация работы предприятия с применением технологий MySQL, PHP, JavaScript, HTML
____
**Участники:**
1. Ушакова Мария Геннадьевна, 3530904/00102
2. Рышкова София Юрьевна, 3530904/00102
3. Баева Анна Александровна, 3530904/00102
4. Никитина Екатерина Владимировна, 3530904/00102
____
**Этапы реализации проекта:**
1. Установка сервера Apache и необходимых для работы компонентов (PHP 8.0.25, MySQL 8.0);
2. Настройка сервера, установка Yii фреймворка и необходимых дополнений kartik;
3. Проектирование и построение базы данных с помощью MySQL;
4. Реализация моделей на языке PHP для связи с базой данных;
5. Реализация моделей поиска на языке PHP для реализации поиска в базе данных;
6. Реализация регистрации, авторизации и личного кабинета;
7. Реализация CRUD-actions и основного функционала сайта;
8. Написание тестов, тестирование
9. Правка кода, исправление ошибок, написание отчета.

____
# ВВЕДЕНИЕ

Необходимо реализовать систему для автоматизации работы туристического бюро. В системе должно быть 3 типа пользователей: Администратор, Экскурсовод, Гость. 
Система должна хранить информацию о гостях, турах, покупках. Администратор может добавлять новых пользователей, создавать новые туры и товары, редактировать имеющуюся информацию о продажах билетов и товаров, имеет доступ просмотра отзывов, может редактировать имеющиеся списки городов, товаров и достопримечательностей.  
Экскурсовод имеет такие возможности как добавление продажи товара гостю, редактирование статуса тура, доступ к полной информации о билетах, просмотр отзывов. 
Гость может просматривать информацию о турах, бронировать билет на тур, отменять билет, просматривать историю покупок. 
____
# ТРЕБОВАНИЯ 

1. Разработать систему, которая позволяет пользователю просматривать информацию о имеющихся турах. 
2. Для бронирования места в туре также необходимо разработать систему, позволяющую пользователю забронировать место в туре, и администратору отследить забронированный пользователем билет. 
____
# АРХИТЕКТУРА 

![SystemContext](https://user-images.githubusercontent.com/81535725/204651635-57d1651d-aff3-4251-b951-1eb4e9fc1e49.png)
![Containers](https://user-images.githubusercontent.com/81535725/204651685-e4672025-fdb8-4ee6-9c2e-f32512a3d5e4.png)
____
# ИСХОДНЫЙ КОД 

**Структура web-приложения:**
- [Models](https://github.com/ma6e4kaa/3530904_00102_SE/tree/main/data/data/htdocs/yii/models) - модели ActiveRecord, соответствующие таблице в базе данных, а также модели поиска для фильтрации в таблицах; 
- [Controllers](https://github.com/ma6e4kaa/3530904_00102_SE/tree/main/data/data/htdocs/yii/controllers) - контроллеры, отвечающие за обработку запроса и генерирование ответа; 
- [Views](https://github.com/ma6e4kaa/3530904_00102_SE/tree/main/data/data/htdocs/yii/views) - виды, отвечающие за представление данных конечному пользователю; 
- [Tests](https://github.com/ma6e4kaa/3530904_00102_SE/tree/main/data/data/htdocs/yii/tests) - тесты, проверяющие корректную работу web-приложения. 
____
# UNIT ТЕСТИРОВАНИЕ 

**Для тестирования web-приложения были написаны unit тесты, проверяющие корректность работы:**
* [LoginFormTest](https://github.com/ma6e4kaa/3530904_00102_SE/blob/main/data/data/htdocs/yii/tests/unit/models/LoginFormTest.php) - проверяет корректность работы формы регистрации; 
* [ModelsTest](https://github.com/ma6e4kaa/3530904_00102_SE/blob/main/data/data/htdocs/yii/tests/unit/models/ModelsTest.php) - проверяет корректность работы моделей Active Record для связи с базой данных; 
* [UserTest](https://github.com/ma6e4kaa/3530904_00102_SE/blob/main/data/data/htdocs/yii/tests/unit/models/UserTest.php) - проверяет корректность работы модели пользователей; 
* [AlertTest](https://github.com/ma6e4kaa/3530904_00102_SE/blob/main/data/data/htdocs/yii/tests/unit/widgets/AlertTest.php) - проверяет корректность работы вывода сообщений. 
____
# ИНТЕГРАЦИОННОЕ ТЕСТИРОВАНИЕ 

**Для тестирования корректности работы web-приложения были написаны интеграционные тесты, проверяющие работу функционала приложения:**
- [CityCest](https://github.com/ma6e4kaa/3530904_00102_SE/blob/main/data/data/htdocs/yii/tests/functional/CityCest.php) - проверяет работу страницы городов и добавления города; 
- [GoodsCest](https://github.com/ma6e4kaa/3530904_00102_SE/blob/main/data/data/htdocs/yii/tests/functional/GoodsCest.php) - проверяет работу страницы товаров и добавления их; 
- [LoginFormCest](https://github.com/ma6e4kaa/3530904_00102_SE/blob/main/data/data/htdocs/yii/tests/functional/LoginFormCest.php) - проверяет корректность работы страницы авторизации, валидации формы входа и входа; 
- [ShowplaceCest](https://github.com/ma6e4kaa/3530904_00102_SE/blob/main/data/data/htdocs/yii/tests/functional/ShowplaceCest.php) - проверяет работу страницу достопримечательностей и добавления их; 
- [TicketsCest](https://github.com/ma6e4kaa/3530904_00102_SE/blob/main/data/data/htdocs/yii/tests/functional/TicketsCest.php) - проверяет корректность работы страницы билетов и их добавления; 
- [TourCest](https://github.com/ma6e4kaa/3530904_00102_SE/blob/main/data/data/htdocs/yii/tests/functional/TourCest.php) - проверяет корректность работы страницы туров, добавления туров, дат тур и остановок тура; 
- [TourStatusCest](https://github.com/ma6e4kaa/3530904_00102_SE/blob/main/data/data/htdocs/yii/tests/functional/TourStatusCest.php) - проверяет работу страницы статусов туров и их добавления; 
- [UserStatusCest](https://github.com/ma6e4kaa/3530904_00102_SE/blob/main/data/data/htdocs/yii/tests/functional/UserStatusCest.php) - проверяет корректность работы страницы статусов билетов пользователей и их добавление; 
- [UsersCest](https://github.com/ma6e4kaa/3530904_00102_SE/blob/main/data/data/htdocs/yii/tests/functional/UsersCest.php) - проверка корректной работы страницы пользователей и заполнение их формы. 
____
# ЗАКЛЮЧЕНИЕ 

В ходе курсовой работы была реализована информационная система для работы туристического бюро. Для её реализации была использована база данных MySQL. Web-приложение было реализовано на языке PHP с использованием JavaScript, HTML, CSS, а также фреймворка Yii. Для написания web-приложения использовался Bootstrap 5 и Krajee Yii Extensions. Для тестирования полученного многостраничного приложения были написаны unit тесты, проверяющие корректную работу моделей, а также интеграционные тесты, проверяющие работу web-приложения.  
____
# СПИСОК ИСПОЛЬЗУЕМОЙ ЛИТЕРАТУРЫ 

1. [Документация по фреймворку Yii PHP](https://www.yiiframework.com/doc/api/2.0)
2. [Документация по PHP](https://www.php.net/manual/ru/)
3. [Документация по Krajee Yii Extensions](https://demos.krajee.com/)
4. [Документация по Bootstrap 5](https://bootstrap-5.ru/docs/5.2/getting-started/introduction/)
